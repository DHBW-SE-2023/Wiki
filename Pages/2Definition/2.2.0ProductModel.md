# Product Model

This chapter describes the structure of the application in various diagrams and descriptions.

# 1. Functional Views

## 1.1 Functional Trees

View the functional tree [here](https://github.com/DHBW-SE-2023/YAAC/blob/DONT-MERGE-graphs/graph_yaac.svg).

## 1.2 Use Cases

The application YAAC meets the following four main use cases:

![UseCaseDiagram](/Diagrams/Images/UseCaseDiagram.png)

#### Name: check students attendance of today
- Goal: View todays attendance lists
- Category: primary
- Precondition: user connected their email to YAAC, there is an attendance list of today's date
- Postcondition: -
- Case of Error: -
- Actors: user
- Triggering Event: open YAAC
- Description: user opens YAAC, chooses the course, checks attendance of today
- Extension: the user opens the application YAAC and chooses the course either on the overview or on the course view page. By clicking on the course, the today's attendance list will be visible. If there is no list of the current day, no list will be displayed.

#### Name: lookup students attendance of past days
- Goal: View attendance list of a day in the past
- Category: primary
- Precondition: user connected their email to YAAC, there is an attendance list of that day's date
- Postcondition: -
- Case of Error: -
- Actors: user
- Triggering Event: open YAAC
- Description: user opens YAAC, chooses the course and date in the past, checks attendance of that day
- Extension: the user opens the application YAAC and chooses the course either on the overview or on the course view page. After choosing the course, the date can be chosen next and the attendance list of that day will be viewed. If there is no list of the chosen date, no list will be displayed. 

#### Name: add attendance list manually
- Goal: Add attendance list manually using YAAC's frontend
- Category: secondary
- Precondition: user connected their email to YAAC, user is in possession of a attendance list that is not yet implemented in YAAC
- Postcondition: -
- Case of Error: -
- Actors: user
- Triggering Event: open YAAC
- Description: user opens YAAC, clicks on + Button on the overview page, selects course and image
- Extension: the user opens the application YAAC and navigates to the overview page of the app. On the upper right corner is a red button with a white plus on it. By clicking on that button, a popup-window appears where the user can enter the course of the list he wants to add. The next step is to load the image of the list before confirming the entry with a click on "Beenden". After that, the image will be processed, saved in the database and it will appear on the proper place of the application.

#### Name: correct/confirm attendance list
- Goal: Correct and/or confirm attendance list
- Category: secondary
- Precondition: user connected their email to YAAC, there is an attendance list of that day's date
- Postcondition: -
- Case of Error: -
- Actors: user
- Triggering Event: open YAAC
- Description: user opens YAAC, chooses course and date, selects "Liste bearbeiten", adjusts attendances, clicks okay
- Extension: the user opens the application YAAC and chooses both course and date of the attendance list he wants to edit. On the course view there's a dropdown menu on the right hand side called "Listenkonfiguration". By clicking the menu and choosing "Liste anzeigen", the user is able to look at the original image of the list to double check if the image processing unit of YAAC made a mistake. In the very unlikely case of finding a mistake, or if a student came to the secretary's office in person to show their attendance, the user can edit the attendance list by clicking "Liste bearbeiten" on the already mentioned dropdown menu. There the user can easily check or uncheck the student's attendances before confirming their edit. After confirmation, the changes will be saved on the database and viewed on YAAC.


## 1.3 Dataflow Diagrams

![DataflowDiagram](/Diagrams/Images/DataflowDiagram.png)

The diagram shows that the data flow of our application starts with a student as they send the email with the attached image of an attendance list. The demon - consisting of the email and image processing component - passes the data on to the database where it is saved. The frontend accesses the data in the database and also returns data to save it in the database if the user makes changes to it.


# 2. Object Oriented

## 2.1 Component Diagram (CSD)

The following diagram describes the components of YAAC and their connections among themselves. 
It should be noted that one component in particular is at the heart of the program: mvvm. This is due to the chosen architectural form of the application (mvvm), which connects the functions from the backend and frontend via a common interface - the mvvm component. A generalized representation of the mvvm architecture can be seen in the following two diagrams:

![mvvm](/Diagrams/Images/mvvm.png "generalized mvvm")

![Project Connections](/Diagrams/Images/ProjectConnections.png "mvvm overview of YAAC")

Another component that is not included in the diagram but is essential for the architecture of the program is the component called shared. As all other components are connected to it, we decided to make it an implicit component. Otherwise the diagram would loose its clarity due to the too great number of connections.
The Component Diagram can be viewed in this diagram:

![ComponentDiagram](/Diagrams/Images/ComponentDiagram.png)



## 2.2 Sequence Diagram

### Creating the Diagrams

The diagrams were created using [PlantUML](https://plantuml.com/sequence-diagram).

Creating sequence diagrams with PlantUML is remarkably straightforward. This ease of use is largely attributed to the user-friendly nature of its syntax, designed to be both intuitive and easy to remember.

### Starting YAAC
![](/Diagrams/Sequence_Diagrams/Starting_YAAC.png)

### Fetching unprocessed Attendance-Lists
![](/Diagrams/Sequence_Diagrams/Periodic_Mail_Fetch.png)

### Using the Database
![](/Diagrams/Sequence_Diagrams/Database.png)

### Uploading Attendance-Lists manually
![](/Diagrams/Sequence_Diagrams/Adding_Lists_Manually.png)

