# Functional Specifications (Pflichtenheft)

# Table of Contents

1. [Introduction](#introduction)
2. [General Description](#general-description)
2.1 [Objective and Purpose of the Document](#objective-and-purpose-of-the-document)
2.2 [Project reference and dependencies](#project-reference-and-dependencies)
2.3 [Abbrevations](#abbreviation)
2.4 [Teams and third party involvement](#teams-and-third-party-involvement)
3. [Concept and general conditions](#concept-and-general-conditions)
3.1 [Field of application](#field-of-application)
3.2 [System requirements](#system-requirements)
3.3 [Delimitations](#delimitations)








## Introduction

YAAC is the application designed to simplify the attendance check at DHBW Friedrichshafen. Automating the secretary's task of checking all signatures of the attendance list, the everyday work is reduced and the secretary's office is less busy and can take care of more important matters. To achieve that, YAAC automatically fetches all relevant email regarding the attendance of students from the mail server and processes the images so that the detected missing students can be reported back to the user. The customer is represented by Mr. Kegreiß.

The project scope is the planning and definition of the project, the conceptual realization followed by the implementation and testing. The release of the application in an app store is not part of the project implementation. The scope of delivery includes an application that runs on both Windows and Linux, the documentation of the individual development phases as well as the necessary diagrams and a user manual.



## General Description

### Objective and purpose of the document

This document is used to document all functional and non-functional requirements that must be fulfilled in order for the project to be considered successful. It is also used for quality assurance and as a communication document between the developer and customer to record the implementation in text form and avoid misunderstandings. It also provides a certain legal basis if the project is not completed according to the customer's wishes.

### Project reference and dependencies

The project is self-contained and does not contain any dependencies on other projects. Additional functionalities, such as the installation of a mail server are not included in the implemented basic product, which also means that there are no dependencies on third parties.

### Abbreviations

- UI: User Interface
- 

### Teams and third party involvement

The development team works independently <font color = "red">with the Product Owner and Scrum Master</font> on the development and implementation of the project. There are no further dependencies on third parties.




## Concept and general conditions

### Field of Application

YAAC was specifically designed for the usage at the computer science department of the university DHBW Ravensburg Campus Friedrichshafen, as the attendance checking process is quite specific. Therefore YAAC is only suitable for a limited field of application. After further development of the image processing unit, it is also possible to include other secretariats from other departments.

<font color = "red"> 

### System requirements

### Delimitations
</font>





<font color = "red"> 
## Description of Product 
- good readability
- created right after planning phase

## Product Requirements
- distinct identification
- adequately detailed
- Unambiguous
- testable
- atomic

## As Standardized as Possible
- IEEE SRS
- IEEE Standard 830

----

</font>

# 1. Definition of Goals

This section defines the criteria YAAC has to accomplish. By differentiating between obligatory and desirably criteria, it is made clear which of them are essential goals for the project and which are somewhat "nice-to-have". There also will be a separation of criteria that YAAC does not wish to fulfill. Therefore, the set limitations of are marked out.

## 1.1 Obligatory Criteria

The following criteria has to be implicated as they ensure the YAAC's stable use. If one or multiple criteria do not work, YAAC cannot be used reliably. 

<font color = "red"> 

### General

As YAAC is supposed to replace a part of the attendance-check-process, it needs to be easy to use without any over complex features. The application has to have a settings page in which various settings and alterations can be implemented in a precise manner. 
The program performance should not influence normal system operation. It also needs to run locally on the computer (?) and it has to be able to keep its process automatically alive while working in the background so that mails can detected at all time. YAAC was built as an open source project, which is why it is important to fulfill all requirements of an open source license. The license does not necessarily have to be a specific one.

### Mail Integration

The mail integration must work reliably.

### Image Processing

Image processing needs to run reliably. As the user usually will trust on the program's output, image processing should have a convincing accuracy. It also needs to display all kinds of edge cases so that the user can decide the final outcome.

### HMI

The HMI is an user interface. YAAC is available as an application for desktop systems (WHAT KINDS?). The UI has fixed [design guidelines](/Pages/FrontendDesignguidelines.md) and needs a clear structure and a simple handling. The user experience should be good. The lists should be shown both as original picture and as analyzed picture. The missing names should be visualized directly so that the most important information is easily accessible. 

</font>

## 1.2 Optional Criteria

As this section's criteria is not needed for assuring a reliable app usage, it will not necessarily be implemented into YAAC. However, their implementation would benefit YAAC's user experience.

### General

Some sort of user documentation would be helpful. As it is a prototype, there exists no experience of how to handle the app the best, therefore a help-page in the program would be beneficial. On the other hand, YAAC is supposed to be easy to use, therefore it should be self explanatory, which makes the user documentation optional again.
Another possible feature is making a project website on GitHub Pages and including a welcome page for the application itself. An advertisement video would be a great addition to the project because it would also function as an introductory video.

Another optional feature is a backup of YAAC's database. Concerning data integrity, a database backup should be necessarily implemented, but as the images can still be found in the user's inbox and the output data (the missing students) have to be written down in another university owned program, all data is already stored elsewhere. The backup could be done by implementing the database in a cloud service. Therefore the backup would be a nice to have, but it is not a strictly essential for the program. 

<font color = "red">

## 1.3 Differentiation/Separation of Criteria

YAAC does not aim for replacing neither the human at the workplace nor the whole attendance checking process. It is seen as a complement to the current attendance checking workflow to improve its effectivity.
</font>

# 2. Usage of Product

The following section defines YAAC's field of application, target audience and operating conditions.




<font color = "red"> 

## 2.3 Operating Conditions

(phys. Umgebung, tägl. Betriebszeit, Beaufsichtigen des laufenden Systems)
YAAC supports the operating systems Windows, Linux and MacOS. To be able to detect incoming mails at all time, the program runs in the background even if it is not actively used.

# 3. Product Overview

"Alle wichtigen Geschäftsprozesse in Form eines Übersichtsdiagramms"

# 4. Product Functions

"Detailierung der Funktionen aus dem Lastenheft, ggfs. Gliederung nach Geschäftsprozessen, Listen, Reports"

# 5. Product Data

"Langfristig zu speichernden Daten aus Benutzersicht mit Mengengerüst"

# 6. Product Performance

"Leistungsanforderungen bzgl. Zeit oder Genauigkeit für Produktdaten"

# 7. Quality Requirements

"Qualitätsmerkmale und einzuhaltende Standards"

# 8. User Interface

"Anforderungen an die Interaktion mit dem Benutzer"

# 9. Non-functional Requirements

"Anforderungen, die sich nicht auf die Funktionalität oder Benutzerschnittstelle beziehen z.B. Barrierefreiheit, Einhaltung von Normen und Gesetzen, Zertifizierung, Sicherheit, Plattformunabhängigkeit"

# 10. Technical Product Environment
(bei Client/Server Systemen getrennt angeben)

## 10.1 Software

"Betriebssystem, Laufzeitumgebung, Datenbank, etc.)

## 10.2 Hardware

"CPU, Peripherie, minmale Konfiguration"

## 10.3 Organizational Limiting Conditions

## 10.4 Product interfaces

(Interface for maintenance and integration)

# 11. Specific Requirements for development environment

## 11.1 Software

"Software-Werkzeuge und Fremdprodukte"

## 11.2 Hardware

## 11.3 Organizational Limiting Conditions

## 11.4 Development interfaces

(Access to existing systems, e.g. to database)

# 12. Breakdown in Subproducts

"Teilprodukte aus Sicht des Auftraggebers und Reihenfolge, in der die Teile entwickelt werden"

# 13. Additions

"Z.B. Festlegung von Installationsbedingungen, etwa baulich und räumliche Voraussetzungen, Testdaten, Normen, Vorschriften, Patente, Lizenzen und externe Unterstützung"

</font>




## Usage & Outlook
As already indicated, the application will initially be used in the secretariat of the DHBW Friedrichshafen. This should reduce the workload on the staff by automating the time-consuming, manual checking of the "participant lists". This will free up capacities and allow the staff to focus on more important tasks.

In the future, with the approval of the DHBW, the current programm could be extended to include authentic signature recognition, which would be able to check signatures for correctness. With this extension, the DHBW could extend signature verification to all other DHBW locations, thus providing far-reaching workload reduction.












--- 
not implemented in the final Wiki yet: 

## Customer requirements
- Runs locally
- Mail Integration
- GDPR/DSGVO Compliance
- The secretary's office- Mrs. Schmidt says:
   - Highlight data of professor, room number and date
- IMAP/SMTP(?)


## Optional Features
- Dualis Integration
- Advertisement
  - Video
- Project Website (GitHub Pages)
- Welcome Page
 
## Specialized environment
- Fullstack development
- Image processing
- Security of sensitive data
- GDPR/DSGVO



## Customer requirements
- Ease of use
   - Settings Page
   - User Documentation: "Help in program"
- Performance
   - Should not influence normal system operation
- Runs locally
- Reliability
   - Image processing should have a convincing accuracy
   - Edge Cases should be displayed for the user to decide
- Mail Integration
- Automatic background processing
- UI
- OpenSource License
- GDPR/DSGVO Compliance
- The secretary's office- Mrs. Schmidt says:
   - Show list and visualize missing names + return missing names
   - Highlight data of professor, room number and date
- IMAP/SMTP(?)

  


-----

# Product description

## GUI
A user has to be able to navigate from every view to every other view via some way. There does not need to be a direct way in the navigation menu.
## Overview
The GUI consists of a main view containing an overview over the different courses with statistics of the current day. If there are no statistics for the current day, then show the latest statistics.
The overview contains a list showing every course. It gives the viewer a clear impression of what course it is. It does that by showing the full name of the course along with its short form (e.g. something like „Intelligente Systeme (TIK)“. 
For every course, it also displays the number of present and absent students. The color for displaying the number of missing students should be slightly highlighted in comparison to the number of present students.
It should also contain a button to export the list of students that are present and absent for every course. A similar button should be available to export the lists for all courses or a subset of courses. There have to be multiple options to export. Pressing the button executes a default action, but there is also a small menu to execute a different export action. The same menu should be able to change the default action.
This overview acts also as a to-do list for the secretariat. All unhandled evaluations of the attendance sheets are marked in the course list. An unhandled evaluation happens when the program evaluates a list but is unsure whether a student is signature field on the attendance sheet is valid or not. Entries that are marked, don’t update to show the latest statistics, they remain as they are. They are pushed to the bottom of the list, and a new entry with the latest statistics appears in their place. There is also an indicator that shows if there are entries that are marked as unhandled evaluations. When an unhandled evaluation is resolved, the marked entry disappears from the list.
When clicking on a course element in the overview list, a separate view giving more detailed statistics and information about the course.
## Course View
This view gives more detailed information about the course. It provides both current and historic data about the course. It contains a list of all students that were and are missing, together with the date. One should be able to view in a graph or a list, all students that are missing, present or a combinded dataset of the two options, or a subset of those.
## Student View
There is also a separate subview, which displays the students which are missing for the current day. One should be able to view in a graph or a list, all students that are missing, present or a combined dataset of the two options, or a subset of those.

## Unhandled Evaluation Resolution View
An unhandled evaluation occurs when a list is tried to be evaluated, i.e. it is checked which signatures are valid to determine which student are present, but the program is unsure if a signature is valid or not it marks the row of the signature on the attendance sheet as an unhandled evaluation.
This view mainly contains the image of the attendance sheet, where the attendance sheet is straigtened onto the screen and any parts of the image which are not the attendance sheet are removed.
For every marked row, a box is drawn around it. The user can interact with the row in such a way that they can select a row and then mark it either as valid or invalid. If the row is marked as valid, it means that the student is present, otherwise the student is absent.
All of these adjustments are temporary until the user presses the 'Commit' button, which will cause the changes to take effect. By this, the unhandled evaluation gets resolved.

## Exporting data
When exporting data from the application there are multiple options to choose the format of the data being exported. The main format for the application is to export the data as an attendance list in an Microsoft Excel file. The attendance list is a single table. It should have the following form:
| Course | Name | 22.11.2023 | 23.11.2023  | 24.11.2023  |
|---|---|---|---|---|
| TIT | M. Mustermann | Present | Present | Absent |
| TIK | M. Musterfrau | Present | Absent | Present |

The date columns show for each name, whether the student was present or absent. There is no reason to differentiate between students that were missing and were excused by the secretariat or students that were missing without reason. In both cases, students are marked „absent“. Making this differentiation is beyond the scope of the program.

## Opening the app
The GUI should only open if the user opens it. If the user opens it, it first shows the main page. The only other way to open the app is if the app sends a notification to the user that an unhandled evaluation has happend. When the user interacts with the notification it opens the app with the unhandled evaluation resolution screen. After that the user can close the GUI or continue.
If the user does not open the app via the notification the attendance sheet in question is marked as an unhandled evaluation.

## Configuring the App
All configuration options of the application must be accessible in the GUI itself, there should never be the need to edit a configuration file. Though to provide the possibility to setup the app on different computers with the same configuration, support for a file based configuration should also be added.

## Background task
When the GUI is closed the app itself should continue. In regular intervals it should check wether new attendance sheets have appeared and then process them. If unhandled evaluations occur, send a notification to the user, through which they can open the GUI, as described previously.
The application get its datasheets from the source. This source should be an e-mail mailbox, which is addressed via IMAP. IMAP itself must support both login through a simple username-password combination as well as via XOAuth2. The user should have to enter their login credentials only once, so they need to be stored securely on the local system. The login credentials should have to be changed later. If the app is uninstalled, all traces of the login credentials need to be destroyed.

### Attendance sheet processing
This is the main task done by the background task, therefore it is important that this runs smoothly and does not impact the usability of the PC of the user. This task processes an image of an attendance sheet, determines what signatures are considered valid and which are invalid. The default behavior for handling invalid signatures is to mark them as unhandled evaluations.
Signature fields should be considered invalid if
-	There is no signature in the field
-	There is more than one signature in the signature field
-	There is no actual signature in the field, there are only a few random lines by people not careless with their pencil
On the other hand, signature fields should be considered valid if
-	The signature consists of two names, but the signature is of the form firstname-family name
-	If there are two signatures in the field, but one is crossed out (this is optional to implement)

### Image Processing

- Paper sheet detection
- Reverse perspective transform
- Table detection
- Row/Column detection
- Printed text detection (left column)
- Detection of valid signature fields (only one signature per field, no overlaps, can it qualify as a signature)
- Extraction of list of user and if valid signature is present
-->